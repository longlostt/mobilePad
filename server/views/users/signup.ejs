<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/styles/signup-style.css">
    <script src="/scripts/signup-script.js" async></script>
    <title>Sign-Up</title>
</head>

<body>
    <div class="signup-container">
        <form action="/signup" method="post" class="signup-form" id="signupForm">
            <!-- Username Section -->
            <div class="signup-row">
                <h4><label for="username">Create username</label></h4>
                <input type="text" name="username" id="username" class="userinput">
                <% if (messages.error.includes('Username must be at least 8 characters long!')) { %>
                    <p class="errMessage" style="display:block;">Username must be at least 8 characters long!</p>
                <% } %>
                <!-- Server-side flash message for username already exists -->
                <% if (messages.error.includes('Username already exists!')) { %>
                    <p class="errMessage" style="color: red; display: block;">Username already exists! Please choose a different one.</p>
                <% } %>
            </div>

            <!-- Password Section -->
            <div class="signup-row">
                <h4><label for="password">Create password</label></h4>
                <input type="password" name="password" id="password" class="userinput"> 
                <% if (messages.error.includes('Password must be at least 8 characters long!')) { %>
                    <p class="errMessage" style="display:block;">Password must be at least 8 characters long!</p>
                <% } %>
                <% if (messages.error.includes('Password must contain a special character!')) { %>
                    <p class="errMessage" style="display:block;">Password must contain a special character!</p>
                <% } %>
                <% if (messages.error.includes('Password must contain a letter!')) { %>
                     <p class="errMessage" style="display:block;">Password must contain a letter!</p>
                <% } %>
                <% if (messages.error.includes('Password must contain a number!')) { %>
                    <p class="errMessage" style="display:block;">Password must contain a number!</p>
                <% } %>
                <% if (messages.error.includes('Passwords do not match!')) { %>
                    <p class="errMessage" style="display:block;">Passwords do not match!</p>
                <% } %>
                
            </div>

            <!-- Password Confirm Section -->
            <div class="signup-row">
                <h4><label for="passwordConfirm">Confirm password</label></h4>
                <input type="password" name="passwordConfirm" id="passwordConfirm" class="userinput">
            </div>

            <!-- Success message (if any) -->
            <% if (messages.success.length > 0) { %>
                <div class="flash-messages" style="color: green;">
                    <%= messages.success.join(', ') %>
                </div>
            <% } %>

            <!-- Submit Button -->
            <div class="signup-row">
                <input type="submit" value="Sign Up" id="signUp" class="signup-submit">
            </div>

            
        </form>
    </div>
</body>

</html>
